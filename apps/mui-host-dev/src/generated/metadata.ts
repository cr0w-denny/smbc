// Auto-generated applet metadata
// Do not edit this file manually - regenerate by running setup

import { getServerUrl } from './api-servers';

export interface AppletMetadata {
  id: string;
  name: string;
  description: string;
  icon: string;
  path: string;
  version: string;
  permissions: string[];
  packageName: string;
}

export const APPLET_METADATA: Record<string, AppletMetadata> = {
  "@smbc/usage-stats-mui": {
    id: "usage-stats",
    name: "Usage Stats",
    description: "Dashboard for tracking usage statistics",
    icon: "BarChart",
    path: "/usage-stats",
    version: "0.0.0",
    permissions: ["usage-stats.read"],
    packageName: "@smbc/usage-stats-mui",
  },
};

/**
 * Helper function to mount an applet using its metadata
 */
export function mountFromMeta(applet: any, packageName: string, environment: 'production' | 'development' | 'mock' | 'qa' = 'development', apiServers?: any) {
  const meta = APPLET_METADATA[packageName];
  if (!meta) {
    throw new Error("No metadata found for package: " + packageName);
  }
  
  const apiBaseUrl = getServerUrl(meta.id, environment, apiServers);
  
  return {
    id: meta.id,
    label: meta.name,
    routes: [{
      path: meta.path,
      label: meta.name,
      component: applet.component,
      requiredPermissions: [],
    }],
    permissions: {}, // Configure as needed - Record<string, string>
    apiSpec: applet.apiSpec,
    apiBaseUrl,
    version: meta.version,
  };
}
